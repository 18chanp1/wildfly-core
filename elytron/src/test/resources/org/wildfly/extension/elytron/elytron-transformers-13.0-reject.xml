<!-- 
    Configuration to test transforming the model from 14.0 (WildFly 24) to 13.0 (WildFly 23 / EAP 7.4)

    TODO Keep the from version up to date with later releases.
 -->

<subsystem xmlns="urn:wildfly:elytron:14.0">
    <credential-stores>
        <credential-store name="store1" location="path/to/store_file" >
            <credential-reference clear-text="STOREPASSWORD"/>
        </credential-store>
    </credential-stores>
    <security-realms>
        <properties-realm name="PropertiesRealmEncodingCharset" hash-charset="GB2312" hash-encoding="base64">
            <users-properties path="target/test-classes/org/wildfly/extension/elytron/users-hashedbase64charset.properties" digest-realm-name="ManagementRealm"/>
        </properties-realm>
        <filesystem-realm name="FilesystemRealmEncodingCharset" hash-charset="GB2312" hash-encoding="hex">
            <file  path="filesystem-realm" relative-to="jboss.server.config.dir"/>
        </filesystem-realm>
        <jdbc-realm name="JDBCRealmCharset" hash-charset="GB2312">
            <principal-query sql="SELECT role, password FROM User WHERE username = ?" data-source="ExampleDS"></principal-query>
        </jdbc-realm>
        <ldap-realm name="LDAPRealmEncodingCharset" dir-context="dirContext" hash-encoding="hex" hash-charset="GB2312">
            <identity-mapping rdn-identifier="uid"></identity-mapping>
        </ldap-realm>
    </security-realms>
    <dir-contexts>
        <dir-context name="dirContext" url="ldap://localhost:11390" principal="uid=server,dc=elytron,dc=wildfly,dc=org" enable-connection-pooling="true">
            <credential-reference store="store1" alias="Elytron"/>
        </dir-context>
    </dir-contexts>
</subsystem>
